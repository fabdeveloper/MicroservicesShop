@startuml

actor user #green
participant EShopService #yellow

user -> EShopService : EShopProductConfirmRQ
activate EShopService

EShopService -> ProductService : ProductBookingRQ
ProductService --> EShopService : ProductBookingRS

EShopService -> ValuationService : ValuateRQ
ValuationService --> EShopService : ValuateRS

EShopService --> user : EShopProductConfirmRS
deactivate EShopService

user -> EShopService : EShopPurchaseConfirmRQ
activate EShopService

EShopService -> ProductService : ProductPurchaseConfirmRQ
ProductService --> EShopService : ProductPurchaseConfirmRS

EShopService -> CheckOutService : PaymentRQ
CheckOutService --> EShopService : PaymentRS
EShopService -> PurchaseService : PurchaseConfirmRQ
PurchaseService --> EShopService : PurchaseConfirmRS

EShopService -> CartService : DeleteCartRQ
CartService --> EShopService : DeleteCartRS

EShopService --> user : EShopPurchaseConfirmRS
deactivate EShopService



@enduml