@startuml

interface PersistenceFacade {
    public ProductConfigPersistenceHelper getPersistenceHelper();
    public ProductServiceGeneralMapper getGeneralMapper();
}

interface IProductPurchaseHelper{    
    public Boolean checkAvailability(OfferPurchase offerPurchase) throws ProductAvailabilityException;
    public Boolean decrementStock(OfferPurchase offerPurchase) throws ProductReduceStockException;
    public ProductBookingRS bookPurchaseList(ProductBookingRQ productBookingRQ) throws ProductBookingException;
    public ProductPurchaseConfirmRS purchaseConfirm(ProductPurchaseConfirmRQ productPurchaseConfirmRQ) throws ProductPurchaseConfirmException;
}

interface ProductConfigPersistenceHelper {    
    public ShopRepository getShopRepository();
    public ProductRepository getProductRepository();
    public ArticleRepository getArticleRepository();
    public OfferRepository getOfferRepository();
    public DiscountRepository getDiscountRepository();
    public TaxRepository getTaxRepository();    
}

interface IProductServiceGeneralMapper {
    public ShopMapper getShopMapper();
    public ProductMapper getProductMapper();
    public ArticleMapper getArticleMapper();
    public OfferMapper getOfferMapper();
    public TaxMapper getTaxMapper();
    public DiscountMapper getDiscountMapper();
}

ProductPurchaseHelperImpl *-- PersistenceFacadeImpl
PersistenceFacadeImpl *-- ProductConfigPersistenceHelperImpl
PersistenceFacadeImpl *-- ProductServiceGeneralMapperImpl

IProductPurchaseHelper <|.. ProductPurchaseHelperImpl
PersistenceFacade <|.left. PersistenceFacadeImpl
ProductConfigPersistenceHelper <|.right. ProductConfigPersistenceHelperImpl
IProductServiceGeneralMapper <|.left. ProductServiceGeneralMapperImpl

ProductConfigPersistenceHelperImpl *-- ShopRepositoryImpl
ProductConfigPersistenceHelperImpl *-- ProductRepositoryImpl
ProductConfigPersistenceHelperImpl *-- ArticleRepositoryImpl
ProductConfigPersistenceHelperImpl *-- OfferRepositoryImpl
ProductConfigPersistenceHelperImpl *-- DiscountRepositoryImpl
ProductConfigPersistenceHelperImpl *-- TaxRepositoryImpl

ProductServiceGeneralMapperImpl *-- ShopMapperImpl
ProductServiceGeneralMapperImpl *-- ProductMapperImpl
ProductServiceGeneralMapperImpl *-- ArticleMapperImpl
ProductServiceGeneralMapperImpl *-- OfferMapperImpl
ProductServiceGeneralMapperImpl *-- DiscountMapperImpl
ProductServiceGeneralMapperImpl *-- TaxMapperImpl









@enduml